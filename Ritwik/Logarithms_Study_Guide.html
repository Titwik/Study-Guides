<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ritwik Anand">

<title>Introduction to Logarithms</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Logarithms_Study_Guide_files/libs/clipboard/clipboard.min.js"></script>
<script src="Logarithms_Study_Guide_files/libs/quarto-html/quarto.js"></script>
<script src="Logarithms_Study_Guide_files/libs/quarto-html/popper.min.js"></script>
<script src="Logarithms_Study_Guide_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Logarithms_Study_Guide_files/libs/quarto-html/anchor.min.js"></script>
<link href="Logarithms_Study_Guide_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Logarithms_Study_Guide_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Logarithms_Study_Guide_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Logarithms_Study_Guide_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Logarithms_Study_Guide_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to Logarithms</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ritwik Anand </p>
          </div>
  </div>
    
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="abstract-title">Summary</div>
    Using logarithms to condense large numbers is a fundamental skill when working in Mathematics. Understanding the laws of logarithms, working with the natural logarithm and learning how to change the base of a logarithm are key in mastering their functionality.
  </div>
</div>

</header>

<p><em>Before reading this guide, it is recommended that you read the guides on ‘Laws of indices’, as well as ‘Dealing with powers and nth roots’.</em></p>
<section id="what-are-logarithms" class="level2">
<h2 class="anchored" data-anchor-id="what-are-logarithms">What are Logarithms?</h2>
<p>In the same way that subtraction ‘undoes’ addition, and division ‘undoes’ multiplication, you can think of the logarithm as the function that ‘undoes’ exponentiation. Logarithms are useful because they essentially let you work backwards through a calculation by undoing exponential effects. Furthermore, logarithms allow us to express large numbers in a convenient way, as well as model various phenomena as they occur in a logarithmic fashion. An example would be a hot object cooling down; this decays logarithmically.</p>
<p>In this guide, you will learn the definition of a logarithm, the laws concerning logarithms, what the natural logarithm is and finally, how to change the base of a logarithm.</p>
<div id="definition-1-link" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Definition of a Logarithm
</div>
</div>
<div class="callout-body-container callout-body">
<p>In its simplest form, a logarithm answers “How many of one number multiply together to make another number.” This is what motivates the following definition:</p>
<p><span class="math display">\[ a^x = b\]</span> or</p>
<p><span class="math display">\[\log_a(b) = x \]</span> where <span class="math inline">\(x\)</span> is the <em>exponent</em>, <span class="math inline">\(a\)</span> is the <em>base</em> and <span class="math inline">\(b\)</span> is the <em>argument</em>. You would read the equation above as “logarithm of <span class="math inline">\(b\)</span> to the base <span class="math inline">\(a\)</span> is equal to <span class="math inline">\(x\)</span>.”</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that the logarithm function can only evaluate <strong>real, positive numbers</strong>. Therefore, you can’t compute the logarithm of any number that is lesser than or equal to <span class="math inline">\(0\)</span>.</p>
</div>
</div>
<div id="example-1-link" class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 1
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose you are given the equation <span class="math inline">\(\log_{10}(1000) = x\)</span>, and you need to find <span class="math inline">\(x\)</span>. You can rewrite the equation as <span class="math inline">\(10^x = 1000\)</span>, and from here, you can see that <span class="math inline">\(x = 3\)</span>.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 2
</div>
</div>
<div class="callout-body-container callout-body">
<p>Now consider the equation <span class="math inline">\(\log_x(8) = 3\)</span>. Rewriting this, you can see that this is equal to <span class="math inline">\(x^3 = 8\)</span>. Therefore <span class="math inline">\(x = 2\)</span>.</p>
</div>
</div>
<p>Generally, if the base is not specified, it is assumed that the base is 10. For example, <span class="math inline">\(\log(a) = b\)</span> means that the logarithm of <span class="math inline">\(a\)</span> to the base <span class="math inline">\(10\)</span> is equal to <span class="math inline">\(b\)</span>.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 3
</div>
</div>
<div class="callout-body-container callout-body">
<p>Consider the equation from <a href="#example-1-link">Example 1</a>. This can be rewritten as <span class="math inline">\(\log(1000) = x\)</span>, and the solution for <span class="math inline">\(x\)</span> is once again <span class="math inline">\(x = 3\)</span></p>
</div>
</div>
</section>
<section id="laws-of-logarithms" class="level2">
<h2 class="anchored" data-anchor-id="laws-of-logarithms">Laws of Logarithms</h2>
<p>There are several rules of logarithms that allows us to expand, condense and solve logarithmic equations, and they are as follows:</p>
<div id="product-rule-link" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law 1: Product Rule
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\log(M \cdot N) = \log(M) + \log(N)\]</span> The logarithm of a product is the sum of the logarithms of the factors.</p>
<p>For example:</p>
<p><span class="math display">\[\log(100) = \log(10 \cdot 10) = \log(10) + \log(10)\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law 2: Quotient Rule
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\log\left(\frac{M}{N}\right) = \log(M) - \log(N) \]</span> The logarithm of a ratio of two numbers is equal to the logarithm of the <strong>numerator</strong> minus the logarithm of the <strong>denominator</strong></p>
<p>For example:</p>
<p><span class="math display">\[\log\left(\frac{5}{4}\right) = \log(5) - \log(4)\]</span></p>
</div>
</div>
<div id="law-3-link" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law 3: Power Rule
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\log(M^k) = k \cdot \log(M)\]</span> The logarithm of an exponential number is the exponent multiplied with the logarithm of the base.</p>
<p>For example:</p>
<p><span class="math display">\[\log(4) = \log(2^2) = 2 \cdot \log(2)\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law 4: Zero Rule
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\log_b(1) = 0\]</span> The logarithm of 1 to any base is <strong>always</strong> equal to 0.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law 5: Identity Rule
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\log_b(b) = 1\]</span></p>
<p>The logarithm of the argument, where the argument is the base of the logarithm, is <strong>always</strong> equal to 1.</p>
</div>
</div>
</section>
<section id="the-natural-logarithm" class="level1">
<h1>The Natural Logarithm</h1>
<p>The natural logarithm is a mathematical function used to study problems specifically involving exponential growth and decay. Unlike the logarithms we encountered above, this logarithm always has a special base called <span id="euler-number"><strong>Euler’s number</strong></span>, denoted <em>e</em>.</p>
<div id="definition-2-link" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The Natural Logarithm
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <strong>natural logarithm</strong>, often denoted <span class="math inline">\(\ln(x)\)</span>, is <span class="math inline">\(\log_e(x)\)</span>.</p>
</div>
</div>
<p>The Natural Logarithm shares the same domain as the logarithms above, namely that it only evaluates <strong>positive, real</strong> numbers. All of the laws from above apply as well.</p>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose you’re given the equation <span class="math inline">\(\ln(x) = 4\)</span>, and you’ve been asked to find <span class="math inline">\(x\)</span>.</p>
<p>Using the definiton of a <a href="#definition-2-link">natural logarithm</a>, you can show that <span class="math inline">\(\log_e(x) = 4\)</span>. Then, using the definition of a <a href="#definition-1-link">logarithm</a>, you can conclude that <span class="math inline">\(x = e^4\)</span>.</p>
</div>
</div>
<p>The Natural Logarithm is quite useful as it’s the <strong>inverse</strong> of the exponential function with base <em>e</em>. A graph of the natural logarithm, as well as its corresponding exponential curve is shown in Figure 1.</p>
<div style="text-align: left;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="log_curve.png" class="img-fluid figure-img" alt="A graph of the natural logarithm and it's inverse, the exponential function with Euler's number as the base."></p>
<figcaption class="figure-caption">Figure 1: A graph that shows the natural logarithm <span class="math inline">\(\ln(x)\)</span>, along with the <span class="math inline">\(e^x\)</span> curve. Each curve is a reflection of the other in the line <span class="math inline">\(y = x\)</span>, making them inverses of each other. Note that <span class="math inline">\(\ln(x)\)</span> only takes positive <span class="math inline">\(x\)</span> values, and is undefined for <span class="math inline">\(x = 0\)</span>.</figcaption>
</figure>
</div>
</div>
<div id="example-5-link" class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 5
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s say that you’ve been given the equation <span class="math inline">\(e^x = 5\)</span>, and you need to solve for <span class="math inline">\(x\)</span>. Taking the natural log on both sides of the equation gives us <span class="math display">\[\ln(e^x) = \ln(5)\]</span> Now, using <a href="#law-3-link">Law 3</a>, you can write the equation as <span class="math display">\[x\ln(e) = \ln(5)\]</span> From here, dividing both sides by <span class="math inline">\(\ln(e)\)</span> results in <span class="math display">\[x = \frac{\ln(5)}{\ln(e)}\]</span></p>
<p>However, you know from the <a href="#definition-1-link">definition</a> of the logarithm that <span class="math inline">\(\ln(e) = \log_e(e)\)</span>. Finally, as <span class="math inline">\(e^1 = 1\)</span>, you can show that <span class="math inline">\(\ln(e) = \log_e(e) = 1\)</span>.</p>
<p>Therefore, <span class="math inline">\(x = \ln(5)\)</span>.</p>
</div>
</div>
<p><a href="#example-5-link">Example 5</a> shows you that <span class="math inline">\(\ln(e) = 1\)</span>. This can be generalised for logarithms of any base.</p>
<div id="law-6-link" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law 6: Inverse of a logarithm
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\log_b(b^k) = k\]</span> The logarithm of an exponential where the base is equal to the base of the logarithm is equal to the exponent.</p>
</div>
</div>
<p>A similar result can be stated for raising a number to a logarithm of the same base.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Law 7: Inverse of an exponent
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[b^{log_b(k)} = k\]</span> Raising a logarithm of a number to its own base is equal to the number itself.</p>
</div>
</div>
</section>
<section id="changing-bases-of-logarithms" class="level1">
<h1>Changing Bases of Logarithms</h1>
<p>Changing the base of a logarithm can be done for a variety of reasons. A couple of common reasons might be because;</p>
<ul>
<li><p><strong>Familiarity</strong>: Sometimes, changing the base of a logarithm can make calculations more familiar. For example, working with base 10 logarithms is common in many areas of engineering, physics and chemistry, as they allow for simpler calculations by working with powers of 10.</p></li>
<li><p><strong>Solving equations</strong>: Changing the base of a logarithm can sometimes help make a calculation simpler. You could change the base in order to work in a base that suits the problem at hand better. An example would be wanting to work with the <a href="#definition-2-link">natural logarithm</a> when working on problems involving <a href="#euler-number">Euler’s number</a>.</p></li>
<li><p><strong>Using Calculators</strong>: Some calculators may only allow logarithms of base 10 or the natural logarithm to be computed. For this reason, it’s important to know how to write out logarithms of any base into one that’s required for use.</p></li>
</ul>
<div id="change-base-rule" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Change of base rule
</div>
</div>
<div class="callout-body-container callout-body">
<p>Changing the base of any logarithm can be done by using the following formula</p>
<p><span class="math display">\[\log_b(a) = \frac{\log_x(a)}{\log_x(b)}\]</span> where</p>
<ul>
<li><span class="math inline">\(a\)</span> is the argument</li>
<li><span class="math inline">\(b\)</span> is the original base</li>
<li><span class="math inline">\(x\)</span> is the new base</li>
</ul>
<p>and <span class="math inline">\(a,b\)</span> are positive, real numbers greater than 0.</p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 6
</div>
</div>
<div class="callout-body-container callout-body">
<p>You are given <span class="math inline">\(\log_2(e^5)\)</span> and asked to change the base to <span class="math inline">\(e\)</span>.</p>
<p>Using the <a href="#change-base-rule">change of base rule</a>,</p>
<p><span class="math display">\[\log_2(e^5) = \frac{\ln(e^5)}{\ln(2)}\]</span> Using <a href="#law-6-link">Law 6</a>, you can work out that <span class="math inline">\(\ln(e^5) = 5\)</span>. Therefore, the equation above simplifies to <span class="math display">\[\log_2(e^5) = \frac{5}{\ln(2)}\]</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 7
</div>
</div>
<div class="callout-body-container callout-body">
<p>Given the equation <span class="math inline">\(3^x = 7^{x + 1}\)</span>, to solve for <span class="math inline">\(x\)</span>;</p>
<p>First, you can take the logarithm of both sides of the equation, <span class="math display">\[\log(3^x) = \log(7^{x+1})\]</span></p>
<p>Next, using Law 3, you can bring the powers of the arguments outside of the logarithm as follows, <span class="math display">\[x\log(3) = (x+1)\log(7)\]</span></p>
<p>After that, expand the right side of the equation to obtain <span class="math display">\[x\log(3) = x\log(7) + \log(7)\]</span></p>
<p>Subtracting <span class="math inline">\(x\log(7)\)</span> from both sides of the equation gives you <span class="math display">\[x\log(3) - x\log(7) = \log(7)\]</span> From which you can pull a factor of <span class="math inline">\(x\)</span> out on the left, giving you <span class="math display">\[x \cdot (\log(3) - \log(7)) = \log(7)\]</span></p>
<p>Finally, dividing both sides by <span class="math inline">\((\log(3) - \log(7))\)</span>, you conclude that <span class="math display">\[x = \frac{\log(7)}{\log(3) - \log(7)}\]</span></p>
</div>
</div>
<div class="callout callout-style-simple callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example 8
</div>
</div>
<div class="callout-body-container callout-body">
<p>Given the equation <span class="math inline">\(5^{2x} + 7(5^x) - 30 = 0\)</span>, you are asked to solve for <span class="math inline">\(x\)</span>.</p>
<p>Start by letting <span class="math inline">\(y = 5^x\)</span>. Then, you can rewrite the equation given as <span class="math inline">\((5^x)^2 + 7(5^x) - 30 = 0\)</span> using <strong>laws of indices</strong>, which is the same as writing <span class="math display">\[y^2 +7y - 30 = 0\]</span></p>
<p>Recognizing that this is a quadratic equation, you can use the quadratic formula, or otherwise, to show that <span class="math display">\[y = -10 \quad \text{or} \quad y = 3\]</span></p>
<p>As <span class="math inline">\(y = 5^x\)</span>, this means that <span class="math inline">\(5^x = -10\)</span> or <span class="math inline">\(5^x = 3\)</span>. By taking the logarithm of both sides, you can show that <span class="math display">\[x\log(5) = \log(-10) \quad \text{or} \quad x\log(5) = 3\]</span></p>
<p>Recall that the logarithm of a negative number is not defined, so <span class="math inline">\(x\log(5) = 3\)</span> is the only viable solution. Therefore, you can conclude that <span class="math display">\[x = \frac{3}{\log(5)}\]</span></p>
</div>
</div>
<section id="quick-check-problems" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="quick-check-problems">Quick check problems</h2>
<!-- add facility for webexercises to work on html -->
<!-- add facility to check answers at end rather than one at a time -->
<div class="webex-check webex-box">
<ol type="1">
<li>What is the value of the logarithm of <span class="math inline">\(\log_{10}(10,000)\)</span>?</li>
</ol>
<p>Answer: It is <input class="webex-solveme nospaces" size="1" data-answer="[&quot;4&quot;]">.</p>
<ol start="2" type="1">
<li>What is the value of <span class="math inline">\(\log_{3}(27)\)</span>?</li>
</ol>
<p>Answer: <select class="webex-select"><option value="blank"></option><option value="">4</option><option value="answer">3</option><option value="">2</option><option value="">1</option></select></p>
<ol start="3" type="1">
<li>Determine whether the following can be evaluated:</li>
</ol>
<ol type="a">
<li><p><span class="math inline">\(\log_{14}(135)\)</span>? <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select> </p></li>
<li><p><span class="math inline">\(\log_3(-9)\)</span>? <select class="webex-select"><option value="blank"></option><option value="">TRUE</option><option value="answer">FALSE</option></select></p></li>
<li><p><span class="math inline">\(\log_{1234}(12.34)\)</span>? <select class="webex-select"><option value="blank"></option><option value="answer">TRUE</option><option value="">FALSE</option></select></p></li>
</ol>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>